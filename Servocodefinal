#include <Servo.h>

Servo first;
Servo second;
Servo third;
Servo fourth;
const int flower = 2;
const int button = 3;
const int buttonthree = 4;
const int buttonfour = 5;

bool buttonThreePressed = false;
bool buttonFourPressed = false;
int thirdServoPosition = 0;

void setup(){
  first.attach(8);
  second.attach(9);
  third.attach(10);
  fourth.attach(11);
  pinMode(flower, INPUT);
  pinMode(button, INPUT);
  pinMode(buttonthree, INPUT);
  pinMode(buttonfour, INPUT);
}

void loop() {
  // Check the state of buttonthree
  if (digitalRead(buttonthree) == HIGH && !buttonThreePressed) {
    // Toggle third servo position
    if (thirdServoPosition == 0) {
      thirdServoPosition = 90;
    } else if (thirdServoPosition == 90) {
      thirdServoPosition = 180;
    } else if (thirdServoPosition == 180) {
      thirdServoPosition = 0;
    }
    buttonThreePressed = true;
  } else if (digitalRead(buttonthree) == LOW) {
    buttonThreePressed = false;
  }

  // Check the state of buttonfour
  if (digitalRead(buttonfour) == HIGH && !buttonFourPressed) {
    // Move fourth servo to 180 if it's at 0, otherwise move to 0
    if (fourth.read() == 180) {
      fourth.write(0);
    } else {
      fourth.write(180);
    }
    buttonFourPressed = true;
  } else if (digitalRead(buttonfour) == LOW) {
    buttonFourPressed = false;
  }

  // Control servos based on button states
  if (digitalRead(flower) == HIGH){
    first.write(180);
  } else {
    first.write(0);
  }

  if (digitalRead(button) == HIGH){
    second.write(180);
  } else {
    second.write(120);
  }

  // Write the position to the third servo
  third.write(thirdServoPosition);
}
